<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pigment - Color Mixing Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <h1>ðŸŽ¨ Pigment Factory Grid</h1>
        <p class="instructions">Drag factories, adders, storage, and gradientors onto the grid. Tap ports to link, drag to move, delete to remove.</p>

        <section class="grid-section">
            <div class="grid-header">
                <div class="grid-title">
                    <h2>Factory Workbench</h2>
                    <p class="palette-hint">Create links from outputs to inputs. You cannot link a component to itself.</p>
                </div>
                <div class="grid-toolbar" id="grid-toolbar">
                    <button class="toolbar-btn" data-add="factory" data-color="255,0,0">Add Red Factory</button>
                    <button class="toolbar-btn" data-add="factory" data-color="255,255,0">Add Yellow Factory</button>
                    <button class="toolbar-btn" data-add="factory" data-color="0,0,255">Add Blue Factory</button>
                    <button class="toolbar-btn" data-add="gradientor" data-mode="lighten">Add Brightener</button>
                    <button class="toolbar-btn" data-add="gradientor" data-mode="darken">Add Darkener</button>
                    <button class="toolbar-btn" data-add="adder">Add Adder</button>
                    <button class="toolbar-btn" data-add="storage">Add Storage</button>
                    <button class="toolbar-btn secondary" id="reset-grid">Reset Grid</button>
                </div>
            </div>

            <div class="grid-legend">
                <span>Factory = 4 outputs</span>
                <span>Adder = 2 inputs â†’ 1 output (can fan out)</span>
                <span>Brightener/Darkener = 1 in â†’ 1 out (can fan out)</span>
                <span>Storage = 6 flexible ports (needs â‰¥1 in + 1 out)</span>
                <span>Tap a port to start a link, tap another to finish</span>
            </div>

            <div class="grid-shell">
                <svg id="connection-layer" class="connection-layer"></svg>
                <div class="grid-board" id="grid-board"></div>
            </div>
        </section>
    </div>
    
    <script src="game.js"></script>
</body>
</html>
